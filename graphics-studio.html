<!DOCTYPE html>
<html lang="en">

<head>
    <base href="/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uniQue-ue - Graphics Studio</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts (Inter & Orbitron) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Orbitron:wght@700;800;900&display=swap" rel="stylesheet">
    
    <!-- Our New Global Stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase & Main App Logic -->
    <!-- We use type="module" to enable import/export -->
    <script src="firebase-config.js" type="module"></script>
    <script src="app.js" type="module"></script>
    
    <!-- We'll keep the old logo files for now -->
    <link rel="icon" href="uniQ_logo_sm2T.png" type="image/png">

</head>

<body>
    <!-- Fixed background particle canvas -->
    <canvas id="particle-canvas" class="particle-canvas"></canvas>
    
    <!-- Page Wrapper -->
    <div class="page-wrapper">
    
        <!-- Global Header Component -->
        <div id="header-placeholder">
            <!-- Skeleton loader for the header -->
            <div class="fixed top-0 left-0 right-0 z-50 h-20 bg-brand-secondary/50 backdrop-blur-md animate-pulse"></div>
        </div>
        
        <!-- Main Content -->
        <main class="container mx-auto px-6 py-12">
            <!-- Hero Section -->
            <section class="py-8 md:py-12 text-center">
                <div class="animate-fade-in-up">
                    <div class="hero-logo-container mb-6">
                        <img src="/uniQ_logo_sm2T.png" alt="uniQue-ue Logo" id="hero-logo" class="hero-logo transition-transform duration-200 ease-out">
                    </div>
                    <h2 class="text-2xl md:text-3xl font-display font-bold leading-tight text-brand-text-muted">uniQue-ue</h2>
                    <h1 class="text-5xl md:text-7xl font-display font-extrabold leading-tight mb-4 heading-glow">Graphics Studio</h1>
                    <p class="text-lg md:text-xl text-brand-text-muted max-w-3xl mx-auto font-sans">
                       Transform your documents into stunning visual narratives with AI-powered image generation.
                    </p>
                </div>
            </section>

            <!-- Main Tool Section -->
            <section class="py-12 md:py-16">
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Column 1: Chat Interface -->
                    <div class="panel-3d p-6 rounded-lg animate-fade-in-up flex flex-col" style="animation-delay: 0.2s;">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-display font-bold text-brand-accent heading-glow">Graphics Assistant</h2>
                            <div class="flex gap-2">
                                <button id="backup-context-button" class="nav-button text-xs px-3 py-1.5">Save Context</button>
                                <button id="clear-context-button" class="nav-button text-xs px-3 py-1.5">Clear Context</button>
                            </div>
                        </div>
                        <div id="chat-container" class="flex-grow h-96 min-h-[24rem] overflow-y-auto bg-brand-primary/90 p-4 rounded-md mb-4 flex flex-col space-y-4 border border-brand-accent/10">
                            <!-- Welcome Message -->
                            <div class="p-3 rounded-lg bg-brand-accent/10 max-w-xs text-sm chat-bubble-3d">
                                <p class="font-bold text-brand-accent">Elena</p>
                                <p class="text-white">Hello! I'm Elena, your visual storytelling companion. Upload a document, and I'll help you create stunning images to bring your narrative to life.</p>
                            </div>
                            <!-- Chat messages will appear here -->
                        </div>
                        <div class="relative">
                            <textarea id="chat-input" rows="3" class="w-full bg-brand-secondary p-4 rounded-md border border-brand-accent/30 focus:border-brand-accent focus:ring-1 focus:ring-brand-accent focus:outline-none transition font-sans text-base resize-none overflow-y-auto placeholder-brand-text-muted" placeholder="Type your message..." style="color: #E5E7EB !important; -webkit-text-fill-color: #E5E7EB;"></textarea>
                        </div>
                        <div class="flex justify-between items-center mt-3">
                            <div class="flex gap-2">
                                <button id="document-upload-button" title="Upload Document" class="nav-button text-xs px-3 py-2 flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
                                    Upload Document
                                </button>
                            </div>
                            <button id="send-button" title="Send" class="nav-button text-brand-accent font-bold px-4 py-2 flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                                Send
                            </button>
                        </div>
                    </div>

                    <!-- Column 2: Image Gallery -->
                    <div class="panel-3d p-6 rounded-lg animate-fade-in-up flex flex-col" style="animation-delay: 0.6s;">
                        <h2 class="text-2xl font-display font-bold mb-4 text-brand-accent heading-glow">Generated Images</h2>
                        <div id="image-gallery" class="flex-grow bg-brand-primary/90 p-4 rounded-md overflow-y-auto min-h-[24rem] border border-brand-accent/10">
                            <p class="text-brand-text-muted text-center mt-20">Upload a document and start chatting with Elena to generate images.</p>
                        </div>
                        <div id="image-actions" class="flex justify-center items-center mt-4 hidden">
                            <button id="download-images-button" class="nav-button text-brand-accent font-bold px-6 py-2">Download All Images</button>
                        </div>
                    </div>
                </div>
                
                <!-- Generate Button - Centered -->
                <div class="flex justify-center mt-8">
                    <button id="generate-image-button" class="w-24 h-24 rounded-full bg-brand-accent text-brand-primary font-bold text-base transition-all duration-300 inline-flex items-center justify-center animate-glow border-4 border-brand-accent hover:bg-brand-accent-hover hover:scale-110 shadow-lg shadow-brand-accent/50">
                        <span class="text-lg">Generate</span>
                    </button>
                </div>
            </section>
        </main>
        
        <!-- Global Footer Component -->
        <div id="footer-placeholder">
            <!-- Skeleton loader for the footer -->
            <div class="h-32 w-full bg-brand-primary border-t border-brand-accent/10 animate-pulse"></div>
        </div>
        
    </div>

    <!-- Page-Specific JavaScript for Logo Mouse-Follow -->
    <script type="module">
        const heroLogo = document.getElementById('hero-logo');
        
        if (heroLogo) {
            const container = heroLogo.parentElement;
            container.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                const rect = container.getBoundingClientRect();
                const x = ((clientX - rect.left) / rect.width) - 0.5;
                const y = ((clientY - rect.top) / rect.height) - 0.5;
                heroLogo.style.transform = `perspective(1000px) rotateY(${x * 30}deg) rotateX(${-y * 30}deg) scale(1.1)`;
            });
            container.addEventListener('mouseleave', () => {
                heroLogo.style.transform = 'perspective(1000px) rotateY(0deg) rotateX(0deg) scale(1)';
            });
        }
    </script>
</body>

</html>

